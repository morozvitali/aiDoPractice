üîß –ü—Ä–æ–ø–æ–Ω—É—é –≤–∞–º —Å–µ—Ä—ñ—é –Ω–∞–≤—á–∞–ª—å–Ω–∏—Ö –∑–∞–≤–¥–∞–Ω—å ¬´–û—Å–Ω–æ–≤–∏ –ø–æ—Ç–æ–∫—ñ–≤ —É Java¬ª

–Ø —Ä–æ–∑–¥—ñ–ª–∏–≤ —ó—Ö –ª–æ–≥—ñ—á–Ω–æ, —â–æ–± –∫–æ–∂–Ω–µ –¥–æ–¥–∞–≤–∞–ª–æ —â–æ—Å—å –Ω–æ–≤–µ:
(–ø—ñ—Å–ª—è –∫–æ–∂–Ω–æ–≥–æ ‚Äî –ø—Ä–∏–∫–ª–∞–¥ —ñ –ø–æ—è—Å–Ω–µ–Ω–Ω—è, —è–∫ –≤–æ–Ω–æ –ø—Ä–∞—Ü—é—î)

üß© –ó–∞–≤–¥–∞–Ω–Ω—è 1. ‚Äú–ü—Ä–∏–≤—ñ—Ç —ñ–∑ –ø–æ—Ç–æ–∫—É‚Äù

–ú–µ—Ç–∞: –Ω–∞–≤—á–∏—Ç–∏—Å—è —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —ñ –∑–∞–ø—É—Å–∫–∞—Ç–∏ –ø—Ä–æ—Å—Ç–∏–π –ø–æ—Ç—ñ–∫.

–£–º–æ–≤–∞:
–°—Ç–≤–æ—Ä—ñ—Ç—å –º–µ—Ç–æ–¥ startThreads(), —è–∫–∏–π —Å—Ç–≤–æ—Ä—é—î –¥–≤–∞ –ø–æ—Ç–æ–∫–∏:

–ø–µ—Ä—à–∏–π –≤–∏–≤–æ–¥–∏—Ç—å 5 —Ä–∞–∑—ñ–≤ "Hello from Thread A"

–¥—Ä—É–≥–∏–π ‚Äî "Hello from Thread B"

–í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ –∫–ª–∞—Å Thread —ñ –º–µ—Ç–æ–¥ start().

public class ThreadPractice1 {
public static void startThreads() {
Thread t1 = new Thread(() -> {
for (int i = 0; i < 5; i++) {
System.out.println("Hello from Thread A");
try { Thread.sleep(300); } catch (InterruptedException e) {}
}
});

        Thread t2 = new Thread(() -> {
            for (int i = 0; i < 5; i++) {
                System.out.println("Hello from Thread B");
                try { Thread.sleep(300); } catch (InterruptedException e) {}
            }
        });

        t1.start();
        t2.start();
    }

    public static void main(String[] args) {
        startThreads();
    }
}


üß† –©–æ –Ω–æ–≤–æ–≥–æ –¥—ñ–∑–Ω–∞—î—Ç–µ—Å—å:

—Ä—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ .start() —ñ .run()

–ø–æ—Ç–æ–∫–∏ –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è –æ–¥–Ω–æ—á–∞—Å–Ω–æ, —Ç–æ–º—É –≤–∏–≤—ñ–¥ –±—É–¥–µ –ø–µ—Ä–µ–º—ñ—à–∞–Ω–∏–π

Thread.sleep() ‚Äî –∑–∞—Ç—Ä–∏–º–∫–∞ –≤ –ø–æ—Ç–æ—Ü—ñ

üß© –ó–∞–≤–¥–∞–Ω–Ω—è 2. ‚Äú–û–±—á–∏—Å–ª–µ–Ω–Ω—è —É —Ñ–æ–Ω–æ–≤–æ–º—É –ø–æ—Ç–æ—Ü—ñ‚Äù

–ú–µ—Ç–∞: —Å—Ç–≤–æ—Ä–∏—Ç–∏ –ø–æ—Ç—ñ–∫, —è–∫–∏–π –æ–±—á–∏—Å–ª—é—î —Å—É–º—É —á–∏—Å–µ–ª —É –º–∞—Å–∏–≤—ñ, –ø–æ–∫–∏ –≥–æ–ª–æ–≤–Ω–∏–π –ø–æ—Ç—ñ–∫ –≤–∏–∫–æ–Ω—É—î —ñ–Ω—à–µ –∑–∞–≤–¥–∞–Ω–Ω—è.

–£–º–æ–≤–∞:
–Ñ –º–∞—Å–∏–≤ —á–∏—Å–µ–ª. –ü–æ—Ä–∞—Ö—É–π—Ç–µ —ó—Ö–Ω—é —Å—É–º—É —É –ø–æ—Ç–æ—Ü—ñ SumThread, –∞ —É –≥–æ–ª–æ–≤–Ω–æ–º—É –ø–æ—Ç–æ—Ü—ñ –≤–∏–≤–æ–¥—å—Ç–µ –∫—Ä–∞–ø–∫–∏ (.), –ø–æ–∫–∏ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è –Ω–µ –∑–∞–∫—ñ–Ω—á–∏—Ç—å—Å—è.

public class ThreadPractice2 {
public static void calculateSum() {
int[] numbers = {1, 2, 3, 4, 5};
Thread sumThread = new Thread(() -> {
int sum = 0;
for (int n : numbers) {
sum += n;
try { Thread.sleep(200); } catch (InterruptedException e) {}
}
System.out.println("\nSum = " + sum);
});

        sumThread.start();

        while (sumThread.isAlive()) {
            System.out.print(".");
            try { Thread.sleep(150); } catch (InterruptedException e) {}
        }
    }

    public static void main(String[] args) {
        calculateSum();
    }
}


üß† –©–æ –Ω–æ–≤–æ–≥–æ:

–º–µ—Ç–æ–¥ .isAlive() ‚Äî –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ —â–µ —Ç—Ä–∏–≤–∞—î –ø–æ—Ç—ñ–∫

—Ñ–æ–Ω–æ–≤–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

—è–∫ –æ–¥–Ω–æ—á–∞—Å–Ω–æ –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è —Ä—ñ–∑–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è

üß© –ó–∞–≤–¥–∞–Ω–Ω—è 3. ‚Äú–Ü–º–µ–Ω–æ–≤–∞–Ω—ñ –ø–æ—Ç–æ–∫–∏‚Äù

–ú–µ—Ç–∞: –ø—Ä–∏–∑–Ω–∞—á–∏—Ç–∏ —ñ–º–µ–Ω–∞ –ø–æ—Ç–æ–∫–∞–º —ñ –ø–æ–¥–∏–≤–∏—Ç–∏—Å—å, —è–∫ –≤–æ–Ω–∏ –∑‚Äô—è–≤–ª—è—é—Ç—å—Å—è —É –ª–æ–≥–∞—Ö.

–£–º–æ–≤–∞:
–°—Ç–≤–æ—Ä—ñ—Ç—å —Ç—Ä–∏ –ø–æ—Ç–æ–∫–∏ –∑ —Ä—ñ–∑–Ω–∏–º–∏ —ñ–º–µ–Ω–∞–º–∏ (Worker-1, Worker-2, Worker-3)
—ñ –Ω–µ—Ö–∞–π –∫–æ–∂–µ–Ω –≤–∏–≤–æ–¥–∏—Ç—å "–ü—Ä–∞—Ü—é—î: <—ñ–º‚Äô—è –ø–æ—Ç–æ–∫—É>" –∫—ñ–ª—å–∫–∞ —Ä–∞–∑—ñ–≤.

public class ThreadPractice3 {
public static void startNamedThreads() {
for (int i = 1; i <= 3; i++) {
Thread t = new Thread(() -> {
for (int j = 0; j < 3; j++) {
System.out.println("–ü—Ä–∞—Ü—é—î: " + Thread.currentThread().getName());
try { Thread.sleep(300); } catch (InterruptedException e) {}
}
}, "Worker-" + i);
t.start();
}
}

    public static void main(String[] args) {
        startNamedThreads();
    }
}


üß† –©–æ –Ω–æ–≤–æ–≥–æ:

—è–∫ –¥–∞—Ç–∏ –ø–æ—Ç–æ–∫—É —ñ–º‚Äô—è (Thread(String name) –∞–±–æ setName())

Thread.currentThread().getName() ‚Äî –¥—ñ–∑–Ω–∞—Ç–∏—Å—è, —Ö—Ç–æ –∑–∞—Ä–∞–∑ –≤–∏–∫–æ–Ω—É—î –∫–æ–¥

üß© –ó–∞–≤–¥–∞–Ω–Ω—è 4. ‚Äú–û—á—ñ–∫—É–≤–∞–Ω–Ω—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –ø–æ—Ç–æ–∫—É‚Äù

–ú–µ—Ç–∞: –Ω–∞–≤—á–∏—Ç–∏—Å—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ .join(), —â–æ–± –¥–æ—á–µ–∫–∞—Ç–∏—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –ø–æ—Ç–æ–∫—É.

–£–º–æ–≤–∞:
–°—Ç–≤–æ—Ä—ñ—Ç—å –ø–æ—Ç—ñ–∫, —è–∫–∏–π –≤–∏–≤–æ–¥–∏—Ç—å "Loading..." –∫—ñ–ª—å–∫–∞ —Å–µ–∫—É–Ω–¥.
–ì–æ–ª–æ–≤–Ω–∏–π –ø–æ—Ç—ñ–∫ –ø–æ–≤–∏–Ω–µ–Ω —á–µ–∫–∞—Ç–∏, –¥–æ–∫–∏ —Ü–µ–π –ø–æ—Ç—ñ–∫ –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è, —ñ –ª–∏—à–µ –ø–æ—Ç—ñ–º –≤–∏–≤–µ—Å—Ç–∏ "Done!".

public class ThreadPractice4 {
public static void waitForThread() throws InterruptedException {
Thread loader = new Thread(() -> {
for (int i = 0; i < 5; i++) {
System.out.println("Loading...");
try { Thread.sleep(500); } catch (InterruptedException e) {}
}
});

        loader.start();
        loader.join(); // –≥–æ–ª–æ–≤–Ω–∏–π –ø–æ—Ç—ñ–∫ —á–µ–∫–∞—î –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è

        System.out.println("Done!");
    }

    public static void main(String[] args) throws InterruptedException {
        waitForThread();
    }
}


üß† –©–æ –Ω–æ–≤–æ–≥–æ:

.join() –∑—É–ø–∏–Ω—è—î –ø–æ—Ç—ñ–∫, –¥–æ–∫–∏ —ñ–Ω—à–∏–π –Ω–µ –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è

–≥–∞—Ä–Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è—Ö –∞–±–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö –æ–±—á–∏—Å–ª–µ–Ω–Ω—è—Ö

üß© –ó–∞–≤–¥–∞–Ω–Ω—è 5. ‚Äú–ü–∞—Ä–∞–ª–µ–ª—å–Ω–∞ –æ–±—Ä–æ–±–∫–∞ —Ä—è–¥–∫—ñ–≤‚Äù

–ú–µ—Ç–∞: –æ–±—Ä–æ–±–∏—Ç–∏ –∫–æ–ª–µ–∫—Ü—ñ—é —É –∫—ñ–ª—å–∫–æ—Ö –ø–æ—Ç–æ–∫–∞—Ö.

–£–º–æ–≤–∞:
–Ñ —Å–ø–∏—Å–æ–∫ —ñ–º–µ–Ω. –†–æ–∑–±–∏–π—Ç–µ –π–æ–≥–æ –Ω–∞ —á–∞—Å—Ç–∏–Ω–∏ —Ç–∞ –æ–±—Ä–æ–±—ñ—Ç—å —É –¥–≤–æ—Ö –ø–æ—Ç–æ–∫–∞—Ö (–∫–æ–∂–µ–Ω –ø–æ—Ç—ñ–∫ –≤–∏–≤–æ–¥–∏—Ç—å —ñ–º–µ–Ω–∞ –∑—ñ —Å–≤–æ—î—ó —á–∞—Å—Ç–∏–Ω–∏).

import java.util.*;

public class ThreadPractice5 {
public static void parallelNames() {
List<String> names = List.of("Anna", "Bohdan", "Vitalii", "Maria", "Oleh", "Sofiia");

        List<String> part1 = names.subList(0, names.size() / 2);
        List<String> part2 = names.subList(names.size() / 2, names.size());

        Thread t1 = new Thread(() -> part1.forEach(n -> {
            System.out.println(Thread.currentThread().getName() + ": " + n);
            try { Thread.sleep(300); } catch (InterruptedException e) {}
        }), "Processor-1");

        Thread t2 = new Thread(() -> part2.forEach(n -> {
            System.out.println(Thread.currentThread().getName() + ": " + n);
            try { Thread.sleep(300); } catch (InterruptedException e) {}
        }), "Processor-2");

        t1.start();
        t2.start();
    }

    public static void main(String[] args) {
        parallelNames();
    }
}


üß† –©–æ –Ω–æ–≤–æ–≥–æ:

–ø–∞—Ä–∞–ª–µ–ª—å–Ω–∞ —Ä–æ–±–æ—Ç–∞ –∑ –∫–æ–ª–µ–∫—Ü—ñ—è–º–∏

–ø—Ä–∞–∫—Ç–∏—á–Ω–µ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –ø–æ—Ç–æ–∫—ñ–≤ —É ¬´—Ä–æ–±–æ—Ç—ñ –∑ –¥–∞–Ω–∏–º–∏¬ª

üß≠ –ü–æ–¥–∞–ª—å—à—ñ –∫—Ä–æ–∫–∏

–Ø–∫—â–æ —Ü—ñ 5 –∑–∞–≤–¥–∞–Ω—å –ø—Ä–æ–π–¥–µ—Ç–µ ‚Äî –º–æ–∂–Ω–∞ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–∏ –¥–æ –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ –±–ª–æ–∫—É:

üîê Locks, synchronized, Atomic –∑–º—ñ–Ω–Ω—ñ, ExecutorService.

–•–æ—á–µ—Ç–µ, —â–æ–± —è —Å—Ç–≤–æ—Ä–∏–≤ –Ω–∞—Å—Ç—É–ø–Ω—É —Å–µ—Ä—ñ—é –∑ Locks —ñ synchronized –ø—ñ—Å–ª—è —Ç–æ–≥–æ, —è–∫ –≤–∏ —Ä–æ–∑–±–µ—Ä–µ—Ç–µ —Ü—ñ 5?
(—è –∑—Ä–æ–±–ª—é –≤ —Ç–æ–º—É –∂ —Å—Ç–∏–ª—ñ ‚Äî –∫—Ä–æ–∫ –∑–∞ –∫—Ä–æ–∫–æ–º, –≤—ñ–¥ –ø—Ä–æ—Å—Ç–æ–≥–æ –¥–æ —Å–∫–ª–∞–¥–Ω—ñ—à–æ–≥–æ).

You said:
—Ç–∞–∫, –¥–∞–≤–∞–π, —Å—Ç–≤–æ—Ä–∏ –Ω–∞—Å—Ç—É–ø–Ω—É —Å–µ—Ä—ñ—é –∑ Locks —ñ synchronized. –•–æ—á–∞ —è –ø–µ—Ä–µ–∂–∏–≤–∞—é —â–æ –º–∏ –º–æ–∂–µ–º–æ —â–æ—Å—å —É–ø—É—Å—Ç–∏—Ç–∏
ChatGPT said:

–ß—É–¥–æ–≤–æ, –ü–∞–Ω–µ –í—ñ—Ç–∞–ª—ñ—é üí™
–Ü –¥—É–∂–µ –ø—Ä–∞–≤–∏–ª—å–Ω–∞ –¥—É–º–∫–∞ ‚Äî —è–∫—â–æ –Ω–µ –±—É–¥—É–≤–∞—Ç–∏ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –∫—Ä–æ–∫ –∑–∞ –∫—Ä–æ–∫–æ–º, –ø–æ—Ç—ñ–º –ø–æ—á–Ω—É—Ç—å—Å—è ‚Äú–¥–∏–≤–Ω—ñ‚Äù —Ä–µ—á—ñ –≤ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—ñ (–≤–∏–ø–∞–¥–∫–æ–≤—ñ –±–∞–≥–∏, race condition, –Ω–µ–ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–∏–π –ø–æ—Ä—è–¥–æ–∫ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è).
–¢–æ–º—É –∑–∞—Ä–∞–∑ —è –∑—Ä–æ–±–ª—é –Ω–∞—Å—Ç—É–ø–Ω–∏–π –ª–æ–≥—ñ—á–Ω–∏–π –±–ª–æ–∫ ‚Äî ‚Äú–ü–æ—Ç–æ–∫–∏ –∑ Locks —ñ synchronized‚Äù, –∞–ª–µ –ø–µ—Ä–µ–¥ —Ü–∏–º –∫–æ—Ä–æ—Ç–∫–æ –ø–µ—Ä–µ–≤—ñ—Ä–∏–º–æ, —á–∏ –≤–∏ —Ç–æ—á–Ω–æ –Ω—ñ—á–æ–≥–æ –Ω–µ —É–ø—É—Å–∫–∞—î—Ç–µ.

üß© –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—ñ –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ—Ö–æ–¥–æ–º

–í–∏ –ø–æ–≤–Ω—ñ—Å—Ç—é –≥–æ—Ç–æ–≤—ñ –¥–æ Locks —ñ synchronized, —è–∫—â–æ –º–æ–∂–µ—Ç–µ –≤—ñ–¥–ø–æ–≤—ñ—Å—Ç–∏ "—Ç–∞–∫" –Ω–∞ –±—ñ–ª—å—à—ñ—Å—Ç—å —ñ–∑ —Ü–∏—Ö –ø—É–Ω–∫—Ç—ñ–≤:

1Ô∏è‚É£ –†–æ–∑—É–º—ñ—î—Ç–µ —Ä—ñ–∑–Ω–∏—Ü—é –º—ñ–∂ .start() —ñ .run()
2Ô∏è‚É£ –ó–Ω–∞—î—Ç–µ, —â–æ .join() –∑–º—É—à—É—î –≥–æ–ª–æ–≤–Ω–∏–π –ø–æ—Ç—ñ–∫ —á–µ–∫–∞—Ç–∏
3Ô∏è‚É£ –ú–æ–∂–µ—Ç–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∫—ñ–ª—å–∫–∞ –ø–æ—Ç–æ–∫—ñ–≤, —è–∫—ñ –≤–∏–∫–æ–Ω—É—é—Ç—å —Ä—ñ–∑–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è –æ–¥–Ω–æ—á–∞—Å–Ω–æ
4Ô∏è‚É£ –ó–Ω–∞—î—Ç–µ, —â–æ –≤–∏–≤—ñ–¥ –∑ –∫—ñ–ª—å–∫–æ—Ö –ø–æ—Ç–æ–∫—ñ–≤ –º–æ–∂–µ –±—É—Ç–∏ –ø–µ—Ä–µ–º—ñ—à–∞–Ω–∏–º
5Ô∏è‚É£ –†–æ–∑—É–º—ñ—î—Ç–µ, —â–æ –ø–æ—Ç–æ–∫–∏ –ø—Ä–∞—Ü—é—é—Ç—å –Ω–µ–∑–∞–ª–µ–∂–Ω–æ, —è–∫—â–æ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è

–Ø–∫—â–æ –≤—Å–µ —Ü–µ ‚úîÔ∏è ‚Äî –º–æ–∂–Ω–∞ —Å–º—ñ–ª–∏–≤–æ —Ä—É—Ö–∞—Ç–∏—Å—å –¥–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü—ñ—ó –ø–æ—Ç–æ–∫—ñ–≤.

üö¶ –ë–ª–æ–∫ 2. ‚Äú–°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –ø–æ—Ç–æ–∫—ñ–≤ —ñ Locks‚Äù

–ú–µ—Ç–∞:
–ø–æ–±–∞—á–∏—Ç–∏, —á–æ–º—É –Ω–µ–±–µ–∑–ø–µ—á–Ω–æ –ø–∏—Å–∞—Ç–∏ –≤ —Å–ø—ñ–ª—å–Ω—ñ –¥–∞–Ω—ñ –±–µ–∑ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó,
—ñ –Ω–∞–≤—á–∏—Ç–∏—Å—è –∫–µ—Ä—É–≤–∞—Ç–∏ —Ü–∏–º –±–µ–∑ —Ö–∞–æ—Å—É.

üß© –ó–∞–≤–¥–∞–Ω–Ω—è 1. ‚ÄúRace Condition ‚Äî —Ö—Ç–æ —à–≤–∏–¥—à–µ?‚Äù

–ú–µ—Ç–∞: –ø–æ–±–∞—á–∏—Ç–∏ –ø—Ä–æ–±–ª–µ–º—É –±–µ–∑ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó.

–£–º–æ–≤–∞:
–î–≤–∞ –ø–æ—Ç–æ–∫–∏ –∑–±—ñ–ª—å—à—É—é—Ç—å —Å–ø—ñ–ª—å–Ω–∏–π –ª—ñ—á–∏–ª—å–Ω–∏–∫ –ø–æ 1000 —Ä–∞–∑—ñ–≤.
–û—á—ñ–∫—É—î–º–æ 2000, –∞–ª–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî –Ω–µ–ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–∏–π.

public class SyncPractice1 {
private static int counter = 0;

    public static void main(String[] args) throws InterruptedException {
        Thread t1 = new Thread(SyncPractice1::increment);
        Thread t2 = new Thread(SyncPractice1::increment);

        t1.start();
        t2.start();

        t1.join();
        t2.join();

        System.out.println("Final counter = " + counter);
    }

    private static void increment() {
        for (int i = 0; i < 1000; i++) {
            counter++; // ‚ùó –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–æ–≤–∞–Ω–æ
        }
    }
}


üß† –©–æ –Ω–æ–≤–æ–≥–æ:

–ø–æ–±–∞—á–∏—Ç–µ, —â–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ –∑–∞–≤–∂–¥–∏ 2000

—Ü–µ —ñ —î race condition ‚Äî –∫–æ–ª–∏ –¥–≤–∞ –ø–æ—Ç–æ–∫–∏ –∑–º—ñ–Ω—é—é—Ç—å —Å–ø—ñ–ª—å–Ω—É –∑–º—ñ–Ω–Ω—É –æ–¥–Ω–æ—á–∞—Å–Ω–æ

üß© –ó–∞–≤–¥–∞–Ω–Ω—è 2. ‚Äú–í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ synchronized –º–µ—Ç–æ–¥‚Äù

–ú–µ—Ç–∞: –∑–∞—Ö–∏—Å—Ç–∏—Ç–∏ —Å–ø—ñ–ª—å–Ω–∏–π —Ä–µ—Å—É—Ä—Å –≤—ñ–¥ –æ–¥–Ω–æ—á–∞—Å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É.

public class SyncPractice2 {
private static int counter = 0;

    public static synchronized void increment() {
        counter++;
    }

    public static void main(String[] args) throws InterruptedException {
        Thread t1 = new Thread(SyncPractice2::doWork);
        Thread t2 = new Thread(SyncPractice2::doWork);

        t1.start();
        t2.start();

        t1.join();
        t2.join();

        System.out.println("Final counter = " + counter);
    }

    private static void doWork() {
        for (int i = 0; i < 1000; i++) {
            increment(); // —Ç–µ–ø–µ—Ä —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–æ–≤–∞–Ω–æ
        }
    }
}


üß† –©–æ –Ω–æ–≤–æ–≥–æ:

synchronized ‚Äî –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –ª–∏—à–µ –æ–¥–∏–Ω –ø–æ—Ç—ñ–∫ –æ–¥–Ω–æ—á–∞—Å–Ω–æ –≤–∏–∫–æ–Ω—É—î –º–µ—Ç–æ–¥

—Ç–µ–ø–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–≤–∂–¥–∏ 2000

üß© –ó–∞–≤–¥–∞–Ω–Ω—è 3. ‚ÄúSynchronized –±–ª–æ–∫ ‚Äî —á–∞—Å—Ç–∫–æ–≤–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è‚Äù

–ú–µ—Ç–∞: –Ω–∞–≤—á–∏—Ç–∏—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É–≤–∞—Ç–∏ –Ω–µ –≤–µ—Å—å –º–µ—Ç–æ–¥, –∞ –ª–∏—à–µ –∫—Ä–∏—Ç–∏—á–Ω—É –¥—ñ–ª—è–Ω–∫—É.

public class SyncPractice3 {
private static int counter = 0;
private static final Object lock = new Object();

    public static void main(String[] args) throws InterruptedException {
        Runnable r = () -> {
            for (int i = 0; i < 1000; i++) {
                synchronized (lock) {
                    counter++;
                }
            }
        };

        Thread t1 = new Thread(r);
        Thread t2 = new Thread(r);

        t1.start();
        t2.start();

        t1.join();
        t2.join();

        System.out.println("Final counter = " + counter);
    }
}


üß† –©–æ –Ω–æ–≤–æ–≥–æ:

–º–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –≤–ª–∞—Å–Ω–∏–π lock-–æ–±‚Äô—î–∫—Ç

—Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –Ω–µ –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤–æ –æ—Ö–æ–ø–ª—é—î –≤–µ—Å—å –º–µ—Ç–æ–¥

–≤–∞–∂–ª–∏–≤–æ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É–≤–∞—Ç–∏ –æ–¥–Ω–∞–∫–æ–≤–∏–º –æ–±‚Äô—î–∫—Ç–æ–º

üß© –ó–∞–≤–¥–∞–Ω–Ω—è 4. ‚ÄúReentrantLock ‚Äî —Ä—É—á–Ω–µ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è‚Äù

–ú–µ—Ç–∞: –ø–æ–∑–Ω–∞–π–æ–º–∏—Ç–∏—Å—è –∑ –∫–ª–∞—Å–æ–º ReentrantLock —ñ –π–æ–≥–æ –º–µ—Ç–æ–¥–∞–º–∏ lock() / unlock().

import java.util.concurrent.locks.ReentrantLock;

public class SyncPractice4 {
private static int counter = 0;
private static final ReentrantLock lock = new ReentrantLock();

    public static void main(String[] args) throws InterruptedException {
        Runnable task = () -> {
            for (int i = 0; i < 1000; i++) {
                lock.lock();
                try {
                    counter++;
                } finally {
                    lock.unlock();
                }
            }
        };

        Thread t1 = new Thread(task);
        Thread t2 = new Thread(task);

        t1.start();
        t2.start();
        t1.join();
        t2.join();

        System.out.println("Final counter = " + counter);
    }
}


üß† –©–æ –Ω–æ–≤–æ–≥–æ:

ReentrantLock ‚Äî –±—ñ–ª—å—à –≥–Ω—É—á–∫–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ synchronized

—Ç—Ä–µ–±–∞ –∑–∞–≤–∂–¥–∏ —Ä–æ–∑–±–ª–æ–∫–æ–≤—É–≤–∞—Ç–∏ —É finally

–¥–æ–∑–≤–æ–ª—è—î –≥–Ω—É—á–∫—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó (—Å–ø—Ä–æ–±–∏ –∑ timeout, –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —á–∏ lock –¥–æ—Å—Ç—É–ø–Ω–∏–π)

üß© –ó–∞–≤–¥–∞–Ω–Ω—è 5. ‚ÄúLock –∑ tryLock()‚Äù

–ú–µ—Ç–∞: –Ω–∞–≤—á–∏—Ç–∏—Å—å –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏, —á–∏ –¥–æ—Å—Ç—É–ø–Ω–∏–π –∑–∞–º–æ–∫, –Ω–µ –±–ª–æ–∫—É—é—á–∏—Å—å.

import java.util.concurrent.locks.ReentrantLock;

public class SyncPractice5 {
private static final ReentrantLock lock = new ReentrantLock();

    public static void main(String[] args) {
        Thread t1 = new Thread(SyncPractice5::tryWork, "Worker-1");
        Thread t2 = new Thread(SyncPractice5::tryWork, "Worker-2");

        t1.start();
        t2.start();
    }

    private static void tryWork() {
        if (lock.tryLock()) {
            try {
                System.out.println(Thread.currentThread().getName() + " –æ—Ç—Ä–∏–º–∞–≤ –∑–∞–º–æ–∫ —ñ –ø—Ä–∞—Ü—é—î...");
                Thread.sleep(1000);
            } catch (InterruptedException e) {
                Thread.currentThread().interrupt();
            } finally {
                lock.unlock();
                System.out.println(Thread.currentThread().getName() + " –∑–≤—ñ–ª—å–Ω–∏–≤ –∑–∞–º–æ–∫.");
            }
        } else {
            System.out.println(Thread.currentThread().getName() + " –Ω–µ –∑–º—ñ–≥ –æ—Ç—Ä–∏–º–∞—Ç–∏ –∑–∞–º–æ–∫ —ñ –ø—ñ—à–æ–≤ –≤—ñ–¥–ø–æ—á–∏–≤–∞—Ç–∏.");
        }
    }
}


üß† –©–æ –Ω–æ–≤–æ–≥–æ:

tryLock() –Ω–µ –±–ª–æ–∫—É—î –ø–æ—Ç—ñ–∫, —è–∫—â–æ –∑–∞–º–æ–∫ –∑–∞–π–Ω—è—Ç–∏–π

–∑—Ä—É—á–Ω–æ –¥–ª—è –Ω–µ–∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –∞–±–æ —Å–ø—Ä–æ–±–Ω–∏—Ö –∑–∞–≤–¥–∞–Ω—å

üß© –ë–æ–Ω—É—Å. ‚Äú–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è synchronized —ñ Lock‚Äù
–ö—Ä–∏—Ç–µ—Ä—ñ–π	synchronized	ReentrantLock
–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–≤—ñ–ª—å–Ω–µ–Ω–Ω—è	‚úÖ –ø—ñ—Å–ª—è –≤–∏—Ö–æ–¥—É –∑ –±–ª–æ–∫—É	‚ùå —Ç—Ä–µ–±–∞ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ unlock() –≤—Ä—É—á–Ω—É
–°–ø—Ä–æ–±–∞ –±–µ–∑ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è	‚ùå	‚úÖ tryLock()
–ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Å—Ç–∞–Ω—É	‚ùå	‚úÖ
–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∫–æ–¥—É	‚úÖ	‚ö†Ô∏è —Ç—Ä–æ—Ö–∏ —Å–∫–ª–∞–¥–Ω—ñ—à–µ
–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è	–î–ª—è –ø—Ä–æ—Å—Ç–∏—Ö –≤–∏–ø–∞–¥–∫—ñ–≤	–î–ª—è —Ä–æ–∑—à–∏—Ä–µ–Ω–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤

üí¨ –ù–∞—Å—Ç—É–ø–Ω–∏–π –±–ª–æ–∫ –ø—ñ—Å–ª—è —Ü—å–æ–≥–æ —è –ø—Ä–æ–ø–æ–Ω—É—é –∑—Ä–æ–±–∏—Ç–∏:

üßµ ‚Äú–í–∑–∞—î–º–æ–¥—ñ—è –ø–æ—Ç–æ–∫—ñ–≤‚Äù
—Ç–æ–±—Ç–æ wait(), notify(), notifyAll(), —ñ –ø–æ—Ç—ñ–º –ø–µ—Ä–µ–π—Ç–∏ –¥–æ ExecutorService (–±–æ —Ç–∞–º –≤—Å–µ —Å—Ç–∞–Ω–µ –ø—Ä–æ—Å—Ç—ñ—à–µ –ø—ñ—Å–ª—è —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó).

–•–æ—á–µ—Ç–µ, —â–æ–± —è –ø—ñ–¥–≥–æ—Ç—É–≤–∞–≤ —Ü–µ–π –Ω–∞—Å—Ç—É–ø–Ω–∏–π –±–ª–æ–∫ ("–í–∑–∞—î–º–æ–¥—ñ—è –ø–æ—Ç–æ–∫—ñ–≤") —É —Ç–æ–º—É –∂ —Ñ–æ—Ä–º–∞—Ç—ñ ‚Äî –ø–æ–∫—Ä–æ–∫–æ–≤–æ –∑ –ø–æ—è—Å–Ω–µ–Ω–Ω—è–º–∏ –π –∫–æ–¥–æ–º?

https://chatgpt.com/c/68e64412-23e4-8325-8a60-98fb09ee80d8  