üß¨ –ü–∞—Ç–µ—Ä–Ω Prototype
üîπ –Ü–¥–µ—è:
–ó–∞–º—ñ—Å—Ç—å —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –æ–±'—î–∫—Ç–∞ —á–µ—Ä–µ–∑ new, –º–∏ –∫–æ–ø—ñ—é—î–º–æ –≤–∂–µ —ñ—Å–Ω—É—é—á–∏–π –æ–±'—î–∫—Ç-–ø—Ä–æ—Ç–æ—Ç–∏–ø.

–¶–µ –æ—Å–æ–±–ª–∏–≤–æ –∫–æ—Ä–∏—Å–Ω–æ, –∫–æ–ª–∏:
—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±‚Äô—î–∫—Ç–∞ –¥–æ—Ä–æ–≥–µ (—Ä–µ—Å—É—Ä—Å–∏, –ë–î, —Å–∫–ª–∞–¥–Ω–∞ –ª–æ–≥—ñ–∫–∞),
–æ–±‚Äô—î–∫—Ç –º–∞—î –±–∞–≥–∞—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ —ñ —Å–∫–ª–∞–¥–Ω—É –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é,
–ø–æ—Ç—Ä—ñ–±–Ω—ñ –∫–æ–ø—ñ—ó –∑—ñ —Å—Ö–æ–∂–∏–º–∏ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—è–º–∏, –∞–ª–µ –æ–∫—Ä–µ–º—ñ.

üîß Java-—Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è —á–µ—Ä–µ–∑ clone()

üî∏ –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
public interface Prototype extends Cloneable {
Prototype clone(); // —Ç–∏–ø–æ–≤–∞ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞
} 

üî∏ –ö–ª–∞—Å-–ø—Ä–æ—Ç–æ—Ç–∏–ø:
public class Document implements Prototype {
private String text;
private List<String> tags = new ArrayList<>();

public Document(String text) {
        this.text = text;
    }

public void addTag(String tag) {
        tags.add(tag);
    }

@Override
    public Document clone() {
        try {
            Document copy = (Document) super.clone(); // shallow copy
            copy.tags = new ArrayList<>(tags); // –≥–ª–∏–±–æ–∫–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è —Å–ø–∏—Å–∫—É
            return copy;
        } catch (CloneNotSupportedException e) {
            throw new AssertionError();
        }
    }

@Override
    public String toString() {
        return "Text: " + text + ", Tags: " + tags;
    }
}

üî∏ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:
Document original = new Document("Hello world");
original.addTag("welcome");
original.addTag("text");

Document copy = original.clone();
copy.addTag("copy");

System.out.println(original); // –Ω–µ –º—ñ—Å—Ç–∏—Ç—å "copy"
System.out.println(copy);     // –º—ñ—Å—Ç–∏—Ç—å "copy"

‚ùå –¢–∏–ø–æ–≤—ñ –ø–æ–º–∏–ª–∫–∏ —ñ –ø—Ä–æ–±–ª–µ–º–∏ –ø—Ä–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ Prototype

üîª 1. –ü–æ–≤–µ—Ä—Ö–Ω–µ–≤–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è (shallow copy)
copy.tags = original.tags; // üôÖ‚Äç‚ôÇÔ∏è

üî∏ –ü—Ä–æ–±–ª–µ–º–∞: –∑–º—ñ–Ω–∏ –≤ –æ–¥–Ω–æ–º—É –æ–±‚Äô—î–∫—Ç—ñ –≤–ø–ª–∏–≤–∞—é—Ç—å –Ω–∞ —ñ–Ω—à–∏–π.
üîß –†—ñ—à–µ–Ω–Ω—è: –≤—Ä—É—á–Ω—É –∫–æ–ø—ñ—é–≤–∞—Ç–∏ –≤–∫–ª–∞–¥–µ–Ω—ñ –æ–±‚Äô—î–∫—Ç–∏ (deep copy).

üîª 2. Cloneable + clone() = –ø–æ–ª–∞–º–∞–Ω–∏–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç
–í Java —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å Cloneable –Ω–µ –º–∞—î –º–µ—Ç–æ–¥—É, –∞ Object.clone() ‚Äî protected.

üî∏ –ü—Ä–æ–±–ª–µ–º–∞: –∫–ª–∞—Å –ø–æ–≤–∏–Ω–µ–Ω —Å–∞–º –≤–∏–∫–ª–∏–∫–∞—Ç–∏ super.clone(), —ñ–Ω–∞–∫—à–µ –≤–∏–Ω—è—Ç–æ–∫.
üîß –†—ñ—à–µ–Ω–Ω—è: —Ä–µ–∞–ª—ñ–∑–æ–≤—É–≤–∞—Ç–∏ clone() –æ–±–µ—Ä–µ–∂–Ω–æ, –∞–±–æ –∫—Ä–∞—â–µ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≤–∑–∞–≥–∞–ª—ñ Cloneable, –∞ –ø–∏—Å–∞—Ç–∏ —Å–≤—ñ–π –º–µ—Ç–æ–¥ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è:

public Document copy() {
Document copy = new Document(this.text);
copy.tags = new ArrayList<>(this.tags);
return copy;
}

üîª 3. Mutable –ø–æ–ª—è –±–µ–∑ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è
class UserProfile {
private Settings settings; // mutable class

@Override
    public UserProfile clone() {
        UserProfile copy = (UserProfile) super.clone();
        copy.settings = this.settings; // ‚ùå –æ–¥–∏–Ω —ñ —Ç–æ–π —Å–∞–º–∏–π –æ–±‚Äô—î–∫—Ç
        return copy;
    }
}
üîß –†—ñ—à–µ–Ω–Ω—è: —è–∫—â–æ –ø–æ–ª–µ –∑–º—ñ–Ω–Ω–µ ‚Äî –∫–ª–æ–Ω—É–≤–∞—Ç–∏ –π–æ–≥–æ —Ç–µ–∂:

copy.settings = settings.clone(); // –∞–±–æ –≤—Ä—É—á–Ω—É –∫–æ–ø—ñ—é–≤–∞—Ç–∏ –≤—Å—ñ –ø–æ–ª—è

üîª 4. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ—á–Ω–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ
–Ø–∫—â–æ —Ç–∏ –∑–±–µ—Ä—ñ–≥–∞—î—à –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏ –≤ –æ–¥–Ω–æ–º—É —Ä–µ—î—Å—Ç—Ä—ñ (Map<String, Product>), —ñ –∫—ñ–ª—å–∫–∞ –ø–æ—Ç–æ–∫—ñ–≤ –æ–¥–Ω–æ—á–∞—Å–Ω–æ –π–æ–≥–æ —á–∏—Ç–∞—é—Ç—å —ñ –∫–ª–æ–Ω—É—é—Ç—å ‚Äî –º–æ–∂–µ—à –æ—Ç—Ä–∏–º–∞—Ç–∏ –≥–æ–Ω–∫–∏ —Å—Ç–∞–Ω—ñ–≤.

üîß –†—ñ—à–µ–Ω–Ω—è: —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É–≤–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ ConcurrentHashMap, —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ.

üîª 5. –ó–∞–º—ñ–Ω–∞ new –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤–∏–≥—Ä–∞—à—É
–Ø–∫—â–æ –æ–±‚Äô—î–∫—Ç –ø—Ä–æ—Å—Ç–∏–π (–ø—Ä–∏–º—ñ—Ç–∏–≤–∏ + 2 –≥–µ—Ç—Ç–µ—Ä–∞), –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Prototype ‚Äî —Ü–µ –ø–µ—Ä–µ–±—ñ–ª—å—à–µ–Ω–Ω—è.

üîß –ü–æ—Ä–∞–¥–∞: –ù–µ —Å—Ç–≤–æ—Ä—é–π Prototype –ª–∏—à–µ –∑–∞—Ä–∞–¥–∏ –ø–∞—Ç–µ—Ä–Ω—É. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π —Ç–∞–º, –¥–µ:

–æ–±‚Äô—î–∫—Ç–∏ —Å–∫–ª–∞–¥–Ω—ñ;

—á–∞—Å—Ç–æ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –∫–æ–ø—ñ—è;

–ø–æ—Ç—Ä—ñ–±–Ω–∞ –≤–∏—Å–æ–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å.

üì¶ –ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Prototype:
–°–∏—Ç—É–∞—Ü—ñ—è	                        Prototype ‚Äî –ø—ñ–¥—Ö–æ–¥–∏—Ç—å?
–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±‚Äô—î–∫—Ç–∞ –¥–æ—Ä–æ–≥–µ	        ‚úÖ
–û–±‚Äô—î–∫—Ç –º–∞—î –±–∞–≥–∞—Ç–æ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó	    ‚úÖ
–û–±'—î–∫—Ç–∏ –º–∞—é—Ç—å –≤–∫–ª–∞–¥–µ–Ω—ñ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏	‚ö†Ô∏è —Ç—ñ–ª—å–∫–∏ –∑ deep copy
–û–±‚Äô—î–∫—Ç–∏ –ø—Ä–æ—Å—Ç—ñ, –ø—Ä–∏–º—ñ—Ç–∏–≤–Ω—ñ	        ‚ùå –ø–µ—Ä–µ–±—ñ–ª—å—à–µ–Ω–Ω—è

üîÅ –ü—Ä–∏–∫–ª–∞–¥ —ñ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∂–∏—Ç—Ç—è:
–£ —Ç–µ–±–µ —î –¥–æ–∫—É–º–µ–Ω—Ç-—à–∞–±–ª–æ–Ω, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ –¥–æ–≥–æ–≤—ñ—Ä. –ö–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É —Ç–∏ –∫–æ–ø—ñ—é—î—à –π–æ–≥–æ, –≤—Å—Ç–∞–≤–ª—è—î—à –Ω–æ–≤—ñ —ñ–º–µ–Ω–∞/–¥–∞—Ç–∏. –¶–µ —ñ —î Prototype!