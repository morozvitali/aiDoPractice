üîü –ó–∞–¥–∞—á –Ω–∞ —Ç–µ–º—É collectingAndThen

‚úÖ –ó–∞–≤–¥–∞–Ω–Ω—è 1: –ù–µ–∑–º—ñ–Ω–Ω–∏–π —Å–ø–∏—Å–æ–∫ —Å–ª—ñ–≤ –¥–æ–≤—à–∏—Ö –∑–∞ 4 –ª—ñ—Ç–µ—Ä–∏
üìã –£–º–æ–≤–∞:
–Ñ —Å–ø–∏—Å–æ–∫ —Å–ª—ñ–≤. –ó–∞–ª–∏—à —Ç—ñ–ª—å–∫–∏ —Ç—ñ, —â–æ –¥–æ–≤—à—ñ –∑–∞ 4 —Å–∏–º–≤–æ–ª–∏, —ñ –∑—Ä–æ–±–∏ 
—Ä–µ–∑—É–ª—å—Ç–∞—Ç unmodifiableList.

üì• –í—Ö—ñ–¥: ["apple", "car", "banana", "hi", "cherry"] üì§ 
–í–∏—Ö—ñ–¥: ["apple", "banana", "cherry"] ‚Äî 
—ñ —Å–ø–∏—Å–æ–∫ –Ω–µ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏.

        .filter(w->w.length() >4)
        .collect(Collectors
        .collectingAndThen(Collectors.toList(), 
        Collections::unmodifiableList));


‚úÖ –ó–∞–≤–¥–∞–Ω–Ω—è 2: –ö—ñ–ª—å–∫—ñ—Å—Ç—å —á–∏—Å–µ–ª, –∫—Ä–∞—Ç–Ω–∏—Ö 3 
üìã –£–º–æ–≤–∞: 
–ü–æ—Ä–∞—Ö—É–π—Ç–µ, —Å–∫—ñ–ª—å–∫–∏ —á–∏—Å–µ–ª —É 
—Å–ø–∏—Å–∫—É –¥—ñ–ª—è—Ç—å—Å—è –Ω–∞ 3. 

üì• –í—Ö—ñ–¥: [3, 9, 2, 4, 6, 7, 12]
üì§ –í–∏—Ö—ñ–¥: 4

üìå –ü—ñ–¥–∫–∞–∑–∫–∞:
public Integer practice2 () {
return Stream.of(3, 9, 2, 4, 6, 7, 12)
.collect(Collectors
.collectingAndThen(Collectors.toList(),
List::size));
}


‚úÖ –ó–∞–≤–¥–∞–Ω–Ω—è 3: –ü–æ–≤–µ—Ä–Ω—É—Ç–∏ –Ω–∞–π–¥–æ–≤—à–µ —Å–ª–æ–≤–æ —á–µ—Ä–µ–∑ get(0)
üìã –£–º–æ–≤–∞:
–ó–Ω–∞–π–¥–∏ –Ω–∞–π–¥–æ–≤—à–µ —Å–ª–æ–≤–æ, –≤—ñ–¥—Å–æ—Ä—Ç—É–≤–∞–≤—à–∏ —Å–ø–∏—Å–æ–∫ –∑–∞ 
–¥–æ–≤–∂–∏–Ω–æ—é –∑–∞ —Å–ø–∞–¥–∞–Ω–Ω—è–º —ñ –ø–æ–≤–µ—Ä–Ω—É–≤—à–∏ –ø–µ—Ä—à–µ (–Ω–∞–π–¥–æ–≤—à–µ) 
—á–µ—Ä–µ–∑ get(0)

üì• –í—Ö—ñ–¥: ["sun", "supernova", "star"]
üì§ –í–∏—Ö—ñ–¥: "supernova"

        List<String> data = List.of("apple", "car", "banana", "hi", "cherry");
    public String practice3 () {
        return Stream.of("sun", "supernova", "star")
.sorted(Comparator.comparing(String::length).reversed())
.collect(Collectors.collectingAndThen(Collectors.toList(), 
list ->list.get(0)));
    }

‚úÖ –ó–∞–≤–¥–∞–Ω–Ω—è 4: –û—Ç—Ä–∏–º–∞—Ç–∏ –ø–µ—Ä—à–∏–π —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π –µ–ª–µ–º–µ–Ω—Ç
üìã –£–º–æ–≤–∞:
–ó–∞–ª–∏—à —É–Ω—ñ–∫–∞–ª—å–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ –∑ –º–∞—Å–∏–≤—É —á–∏—Å–µ–ª —ñ –ø–æ–≤–µ—Ä–Ω–∏ –ø–µ—Ä—à–∏–π –∑ –Ω–∏—Ö.

üì• –í—Ö—ñ–¥: [5, 3, 4, 4, 3, 6] üì§ –í–∏—Ö—ñ–¥: 5
üìå –ü—ñ–¥–∫–∞–∑–∫–∞: distinct() ‚Üí toList() ‚Üí get(0)
return Stream.of(5, 3, 4, 4, 3, 6).distinct()
.collect(Collectors.collectingAndThen(Collectors.toList(),
List::getFirst));


‚úÖ –ó–∞–≤–¥–∞–Ω–Ω—è 5: –°–ø–∏—Å–æ–∫ —Ü—ñ–ª–∏—Ö —á–∏—Å–µ–ª ‚Üí –Ω–µ–∑–º—ñ–Ω–Ω–∏–π Set
üìã –£–º–æ–≤–∞:
–ó–∞–ª–∏—à —Ç—ñ–ª—å–∫–∏ —á–∏—Å–ª–∞ > 10 —ñ –∑–±–µ—Ä–µ–∂–∏ —ó—Ö —É –Ω–µ–∑–º—ñ–Ω–Ω–∏–π Set.

üì• –í—Ö—ñ–¥: [2, 4, 10, 12, 14, 12, 4]
üì§ –í–∏—Ö—ñ–¥: [12, 14] (—è–∫ Set) ‚Äî 
—ñ Set –º–∞—î –±—É—Ç–∏ unmodifiable


‚úÖ –ó–∞–≤–¥–∞–Ω–Ω—è 6: –ó–Ω–∞–π—Ç–∏ —Å–µ—Ä–µ–¥–Ω—î –¥–æ–≤–∂–∏–Ω–∏ —Å–ª—ñ–≤ 
üìã –£–º–æ–≤–∞:
–ü–æ—Ä–∞—Ö—É–π —Å–µ—Ä–µ–¥–Ω—é –¥–æ–≤–∂–∏–Ω—É —Å–ª—ñ–≤ –∑—ñ —Å–ø–∏—Å–∫—É
üì• –í—Ö—ñ–¥: ["code", "stream", "java"] üì§ –í–∏—Ö—ñ–¥: 4.67

üìå –ü—ñ–¥–∫–∞–∑–∫–∞:
map(String::length)
collect(toList())
–ø–æ—Ç—ñ–º collectingAndThen(list ‚Üí avg)

    return Stream.of("code", "stream", "java")
    .collect(Collectors
    .collectingAndThen(Collectors.toList(), 
    list->list.stream().mapToInt(String::length)
    .average().orElse(-1)));


‚úÖ –ó–∞–≤–¥–∞–Ω–Ω—è 7: –ù–µ–∑–º—ñ–Ω–Ω–∞ 
Map<–ø–µ—Ä—à–∞ –ª—ñ—Ç–µ—Ä–∞, —Å–ø–∏—Å–æ–∫ —Å–ª—ñ–≤>
üìã –£–º–æ–≤–∞:
–ì—Ä—É–ø—É–π —Å–ª–æ–≤–∞ –∑–∞ –ø–µ—Ä—à–æ—é –ª—ñ—Ç–µ—Ä–æ—é.
–†–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî Map<Character, List<String>>, 
—è–∫–∞ —î –Ω–µ–∑–º—ñ–Ω–Ω–æ—é.

üì• –í—Ö—ñ–¥: ["apple", "ant", "banana", 
"bat", "car"]üì§ –í–∏—Ö—ñ–¥:

{
a=[apple, ant],
b=[banana, bat],
c=[car]
}
üìå Map –º–∞—î –±—É—Ç–∏ unmodifiable.

    Map<Character, List<String>> result = data.stream()
            .collect(Collectors.collectingAndThen(
                    Collectors.groupingBy(word -> word.charAt(0)),
                    Collections::unmodifiableMap
            ));

Collections::unmodifiableMap => map -> Collections.unmodifiableMap(map)

‚úÖ –ó–∞–≤–¥–∞–Ω–Ω—è 8: –ó–Ω–∞–π—Ç–∏ —î–¥–∏–Ω–µ —Å–ª–æ–≤–æ –∑ 'z' üìã –£–º–æ–≤–∞:
–ó–Ω–∞–π–¥–∏ —î–¥–∏–Ω–µ —Å–ª–æ–≤–æ –∑—ñ —Å–ø–∏—Å–∫—É, 
—è–∫–µ –º—ñ—Å—Ç–∏—Ç—å –ª—ñ—Ç–µ—Ä—É 'z', —ñ –ø–æ–≤–µ—Ä–Ω–∏ –π–æ–≥–æ. 
–Ø–∫—â–æ —Ç–∞–∫–∏—Ö –±—ñ–ª—å—à–µ ‚Äî –≤–∏–Ω—è—Ç–æ–∫.

üì• –í—Ö—ñ–¥: ["java", "zip", "jazz"] ‚Üí –≤–∏–Ω—è—Ç–æ–∫
üì• –í—Ö—ñ–¥: ["java", "zip"] ‚Üí "zip"
üìå –ü—ñ–¥–∫–∞–∑–∫–∞: .collect(Collectors
.collectingAndThen(Collectors.toList(), 
list -> list.get(0))) ‚Äî —Ç—ñ–ª—å–∫–∏ —è–∫—â–æ list.size() == 1
List<String> data = List.of("java", "zip", "jazz");

    String result = data.stream()
            .filter(w -> w.contains("z"))
            .collect(Collectors.collectingAndThen(
                    Collectors.toList(),
                    list -> {
                        if (list.size() != 1) {
                            throw new IllegalStateException("–û—á—ñ–∫—É–≤–∞–ª–æ—Å—è 
                            —Ä—ñ–≤–Ω–æ –æ–¥–Ω–µ —Å–ª–æ–≤–æ –∑ 'z'");
                        }
                        return list.get(0);
                    }
            ));

‚úÖ –ó–∞–≤–¥–∞–Ω–Ω—è 9: –°–ø–∏—Å–æ–∫ –Ω–µ–ø–∞—Ä–Ω–∏—Ö —á–∏—Å–µ–ª ‚Üí 
–ø–µ—Ä–µ—Ç–≤–æ—Ä–∏ —É —Å—Ç—Ä–æ–∫—É

üìã –£–º–æ–≤–∞:
–ó–∞–ª–∏—à –Ω–µ–ø–∞—Ä–Ω—ñ —á–∏—Å–ª–∞ —Ç–∞ –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏ —Å–ø–∏—Å–æ–∫ —É —Å—Ç—Ä–æ–∫—É, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥: "1, 3, 5"

üì• –í—Ö—ñ–¥: [1, 2, 3, 4, 5] üì§ –í–∏—Ö—ñ–¥: "1, 3, 5"
üìå –ü—ñ–¥–∫–∞–∑–∫–∞: collectingAndThen ‚Üí list -> String.join(", ", ...)

public void practice9() {  List<Integer> numbers = List.of(1, 2, 3, 4, 5);

    String result = numbers.stream()
            .filter(n -> n % 2 != 0)
            .map(String::valueOf) // ‚¨ÖÔ∏è –ü–µ—Ä–µ—Ç–≤–æ—Ä—é—î–º–æ Integer ‚Üí String
            .collect(Collectors.collectingAndThen(
                    Collectors.toList(),
                    list -> String.join(", ", list)
            ));

    System.out.println(result); // –í–∏–≤–µ–¥–µ: "1, 3, 5"
}


‚úÖ –ó–∞–≤–¥–∞–Ω–Ω—è 10: –ö—ñ–ª—å–∫—ñ—Å—Ç—å –≥—Ä—É–ø
–ø–æ –¥–æ–≤–∂–∏–Ω—ñ —Å–ª—ñ–≤
üìã –£–º–æ–≤–∞:
–ü–æ—Ä–∞—Ö—É–π, —Å–∫—ñ–ª—å–∫–∏ —Ä—ñ–∑–Ω–∏—Ö –≥—Ä—É–ø –±—É–¥–µ, 
—è–∫—â–æ –∑–≥—Ä—É–ø—É–≤–∞—Ç–∏ —Å–ª–æ–≤–∞ –∑–∞ –¥–æ–≤–∂–∏–Ω–æ—é.

üì• –í—Ö—ñ–¥: ["hi", "hello", "world", "no", "yes"]
üì§ –í–∏—Ö—ñ–¥: 3
üìå –ü—ñ–¥–∫–∞–∑–∫–∞:
groupingBy(String::length) ‚Üí 
collectingAndThen(Map::size)

    public void practice10 () {
        List<String> data = List.of("hi", "hello", 
        "world", "no", "yes");

        data.stream()
    .collect(Collectors
    .collectingAndThen(Collectors.groupingBy(String::length), 
    Map::size));
    }


üîÅ –ë–æ–Ω—É—Å 11: –ö–æ–ª–µ–∫—Ü—ñ—è —É Optional ‚Üí –≤–∏—Ç—è–≥—Ç–∏ –∞–±–æ "empty" üìã –£–º–æ–≤–∞:
–§—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏ —Å–ª–æ–≤–∞ –∑–∞ –¥–æ–≤–∂–∏–Ω–æ—é > 6, –∑—ñ–±—Ä–∞—Ç–∏ —É —Å–ø–∏—Å–æ–∫, —ñ —è–∫—â–æ —î —Ö–æ—á–∞ –± –æ–¥–Ω–µ ‚Äî –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ –ø–µ—Ä—à–µ, —ñ–Ω–∞–∫—à–µ ‚Äî "empty"
üìå collectingAndThen ‚Üí list -> list.isEmpty() ? "empty" : list.get(0)




----------------------------------
-------------–¥–∞–ª—ñ-----------------
--------------—Ç–µ–æ—Ä—ñ—è--------------
----------------------------------


üì¶ –•–æ—á–µ—à ‚Äî –∑—Ä–æ–±–ª—é –¥–ª—è —Ç–µ–±–µ —ñ —Ç–µ—Å—Ç–∏ @Test, —ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ –∑—ñ Set, Map, –∞–±–æ –æ–±–≥–æ—Ä—Ç–∞–Ω–Ω—è —É Optional, OptionalInt, –∞–±–æ –Ω–∞–≤—ñ—Ç—å custom collector.

–•–æ—á–µ—à –ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è –∑ —É—Å–∫–ª–∞–¥–Ω–µ–Ω–Ω—è–º? –ù–∞–ø—Ä–∏–∫–ª–∞–¥:

–ü—ñ—Å–ª—è groupingBy –æ–¥—Ä–∞–∑—É –≤–∏—Ç—è–≥ –Ω–∞–π—á–∞—Å—Ç—ñ—à–æ—ó –≥—Ä—É–ø–∏

collectingAndThen + Comparator

–ü–µ—Ä–µ—Ö—ñ–¥ –¥–æ toMap, –∞ –ø–æ—Ç—ñ–º –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è

üîî –ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏: ¬´–£—Å–∫–ª–∞–¥–Ω–∏!¬ª üòÑ





–î–æ–¥–∞—Ç–∏ —â–µ –∫—ñ–ª—å–∫–∞ –∑–∞–≤–¥–∞–Ω—å
----------------c-o-l-l-e-c-t-i-n-g-A-n-d-T-h-e-n-------------------


üß™ –ó–∞–≤–¥–∞–Ω–Ω—è: collectingAndThen 
üéØ –ó–∞–¥–∞—á–∞:
–ú–∞—î–º–æ —Å–ø–∏—Å–æ–∫ —á–∏—Å–µ–ª
–í–∏–±—Ä–∞—Ç–∏ —Ç—ñ, —â–æ > 50
–í—ñ–¥—Å–æ—Ä—Ç—É–≤–∞—Ç–∏ –∑–∞ —Å–ø–∞–¥–∞–Ω–Ω—è–º
–ó—ñ–±—Ä–∞—Ç–∏ –≤ –Ω–µ–∑–º—ñ–Ω–Ω–∏–π —Å–ø–∏—Å–æ–∫ (List<Integer>)
–ü–æ–≤–µ—Ä–Ω—É—Ç–∏ –π–æ–≥–æ

üì• –í—Ö—ñ–¥:

List<Integer> numbers = List.of(10, 70, 20, 90, 55, 30);
üì§ –û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

[90, 70, 55]
(—ñ —Å–ø–∏—Å–æ–∫ –º–∞—î –±—É—Ç–∏ –Ω–µ–º–æ–¥–∏—Ñ—ñ–∫–æ–≤–∞–Ω–∏–π)



üîß –®–∞–±–ª–æ–Ω:
public List<Integer> sortedUnmodifiable() {
List<Integer> numbers = List.of(10, 70, 20, 90, 55, 30);

    return numbers.stream()
            .filter(n -> n > 50)
            .sorted(Comparator.reverseOrder())
            .collect(Collectors.collectingAndThen(
                Collectors.toList(),
                Collections::unmodifiableList
            ));
}
üåÄ –¢–≤–æ—î –∑–∞–≤–¥–∞–Ω–Ω—è:

–ù–∞–ø–∏—à–∏ —Å–≤—ñ–π –º–µ—Ç–æ–¥ –Ω–∞ –±–∞–∑—ñ —Ü—å–æ–≥–æ

–ê–±–æ —Å—Ç–≤–æ—Ä–∏ —Å–≤—ñ–π –ø—Ä–∏–∫–ª–∞–¥: –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑—ñ–±—Ä–∞—Ç–∏ –≤—Å—ñ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ
—Å–ª–æ–≤–∞ –¥–æ–≤–∂–∏–Ω–æ—é > 4 –≤ –Ω–µ–∑–º—ñ–Ω–Ω–∏–π —Å–ø–∏—Å–æ–∫



?--?--?--?--?--?--?--?--THEORY--?--?--?--?--?--?--?--?

üß† –¢–µ–º–∞: collectingAndThen ‚Äî –∑–±–∏—Ä–∞–π —ñ –æ–¥—Ä–∞–∑—É –ø–µ—Ä–µ—Ç–≤–æ—Ä—é–π
üìå –©–æ —Ü–µ —Ç–∞–∫–µ?
–¶–µ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–π –∫–æ–ª–µ–∫—Ç–æ—Ä, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î:

–°–ø–æ—á–∞—Ç–∫—É –∑—ñ–±—Ä–∞—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —É List, Set, Map‚Ä¶

–ê –ø–æ—Ç—ñ–º –≤—ñ–¥—Ä–∞–∑—É –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏ –π–æ–≥–æ, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥,
–∑—Ä–æ–±–∏—Ç–∏ —Å–ø–∏—Å–æ–∫ –Ω–µ–∑–º—ñ–Ω–Ω–∏–º, –∞–±–æ –æ–±–≥–æ—Ä–Ω—É—Ç–∏ –≤ —ñ–Ω—à—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É.

üì¶ –°–∏–Ω—Ç–∞–∫—Å–∏—Å:
Collectors.collectingAndThen(
Collector<T, A, R> downstream,
Function<R, RR> finisher
)
–ü–µ—Ä–µ–∫–ª–∞–¥–∞—é—á–∏ –∑ ‚Äú–¥–∂–∞–≤—ñ–π—Å—å–∫–æ—ó‚Äù:
—Å–ø–æ—á–∞—Ç–∫—É –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π Collector (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥ toList())
–∞ –ø–æ—Ç—ñ–º –∑–∞—Å—Ç–æ—Å—É–π —Ñ—É–Ω–∫—Ü—ñ—é –¥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥
Collections::unmodifiableList)

üîß –ü—Ä–∏–∫–ª–∞–¥:
List<String> result = Stream.of("apple", "banana", "cherry")
.filter(w -> w.length() > 5)
.collect(Collectors.collectingAndThen(
Collectors.toList(),
Collections::unmodifiableList
));
üßä –¢–æ–±—Ç–æ: –º–∏ –∑—ñ–±—Ä–∞–ª–∏ –≤ List, –∞ –ø–æ—Ç—ñ–º –æ–¥—Ä–∞–∑—É –∑—Ä–æ–±–∏–ª–∏ –π–æ–≥–æ –Ω–µ–∑–º—ñ–Ω–Ω–∏–º.



------------------------
–¢–∞–∫, —Ä–æ–∑—É–º—ñ—é, collectingAndThen –ø—Ä–∞—Ü—é—î —è–∫ Colectors
–∞–ª–µ –ø—ñ—Å–ª—è –∑–±–∏—Ä–∞–Ω–Ω—è —É –∫–æ–ª–µ–∫—Ü—ñ—é –º–æ–∂–µ –∑—Ä–æ–±–∏—Ç–∏ –¥–æ–¥–∞—Ç–∫–æ–≤—É –¥—ñ—é –∑ –∫–æ–ª–µ–∫—Ü—ñ—î—é.
–ê —è–∫—ñ –¥—ñ—ó –º–æ–∂—É—Ç—å –±—É—Ç–∏ –∞–±–æ —á–∞—Å—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è?
------------------------


üî• collectingAndThen = –∑–±–∏—Ä–∞–Ω–Ω—è (Collector) + –¥–æ–¥–∞—Ç–∫–æ–≤–∞ –¥—ñ—è (—Ñ—É–Ω–∫—Ü—ñ—è) –ø—ñ—Å–ª—è –∫–æ–ª–µ–∫—Ü—ñ–æ–Ω—É–≤–∞–Ω–Ω—è.

üéØ –Ü–¥–µ—è:
–¢–∏ —â–æ—Å—å –∑—ñ–±—Ä–∞–≤ (toList(), toSet(), groupingBy()),
–∞ –ø–æ—Ç—ñ–º ‚Äî ‚Äú–¥–æ–≤—ñ–≤ –¥–æ –∫–æ–Ω–¥–∏—Ü—ñ—ó‚Äù: –∑—Ä–æ–±–∏–≤ –∫–æ–ª–µ–∫—Ü—ñ—é –Ω–µ–∑–º—ñ–Ω–Ω–æ—é, –≤–∏—Ç—è–≥–Ω—É–≤ –∑–Ω–∞—á–µ–Ω–Ω—è, –æ–±–≥–æ—Ä–Ω—É–≤ —É —â–æ—Å—å —Ç–æ—â–æ.

üîß –ß–∞—Å—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω—ñ –¥—ñ—ó (—Ñ—É–Ω–∫—Ü—ñ—ó) –ø—ñ—Å–ª—è –∑–±–∏—Ä–∞–Ω–Ω—è
üí° –§—É–Ω–∫—Ü—ñ—è	üß† –©–æ —Ä–æ–±–∏—Ç—å	üìå –ü—Ä–∏–∫–ª–∞–¥
Collections::unmodifiableList	—Ä–æ–±–∏—Ç—å —Å–ø–∏—Å–æ–∫ –Ω–µ–∑–º—ñ–Ω–Ω–∏–º	—Å–ø–∏—Å–æ–∫ –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è, –±–µ–∑ add()
List::size	–ø–æ–≤–µ—Ä—Ç–∞—î –∫—ñ–ª—å–∫—ñ—Å—Ç—å –µ–ª–µ–º–µ–Ω—Ç—ñ–≤	–∑—ñ–±—Ä–∞–ª–∏ —Å–ø–∏—Å–æ–∫ ‚Üí –ø–æ—Ä–∞—Ö—É–≤–∞–ª–∏
Function.identity()	–ø—Ä–æ—Å—Ç–æ –ø–æ–≤–µ—Ä—Ç–∞—î —Ç–µ, —â–æ –∑—ñ–±—Ä–∞–ª–∏	—ñ–Ω–æ–¥—ñ –∫–æ—Ä–∏—Å–Ω–æ
Map::size	—Ä–æ–∑–º—ñ—Ä –º–∞–ø–∏	–ø—ñ—Å–ª—è groupingBy
Set::iterator().next()	–ø–æ–≤–µ—Ä–Ω—É—Ç–∏ –ø–µ—Ä—à–∏–π –µ–ª–µ–º–µ–Ω—Ç –∑ Set	—è–∫—â–æ –∑—ñ–±—Ä–∞–ª–∏ —É Set, –∞–ª–µ —Ö–æ—á–µ–º–æ –æ–¥–∏–Ω
list -> list.get(0)	–ø–æ–≤–µ—Ä–Ω—É—Ç–∏ –ø–µ—Ä—à–∏–π –µ–ª–µ–º–µ–Ω—Ç —Å–ø–∏—Å–∫—É	—è–∫—â–æ —Ç–æ—á–Ω–æ –∑–Ω–∞—î–º–æ, —â–æ –Ω–µ –ø–æ—Ä–æ–∂–Ω—ñ–π
Optional::get	—è–∫—â–æ –∑–±–∏—Ä–∞—î–º–æ —â–æ—Å—å –≤ Optional ‚Äî –≤–∏—Ç—è–≥—É—î–º–æ –∑–Ω–∞—á–µ–Ω–Ω—è
üìå –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏:
‚úÖ 1. –ó—Ä–æ–±–∏—Ç–∏ List –Ω–µ–∑–º—ñ–Ω–Ω–∏–º:

.collect(Collectors.collectingAndThen(
Collectors.toList(),
Collections::unmodifiableList
));
‚úÖ 2. –û—Ç—Ä–∏–º–∞—Ç–∏ —Ä–æ–∑–º—ñ—Ä —Å–ø–∏—Å–∫—É –ø—ñ—Å–ª—è –∑–±–∏—Ä–∞–Ω–Ω—è:

.collect(Collectors.collectingAndThen(
Collectors.toList(),
List::size
)); // –ø–æ–≤–µ—Ä–Ω–µ Integer
‚úÖ 3. –ü–æ–≤–µ—Ä–Ω—É—Ç–∏ –ø–µ—Ä—à–∏–π –µ–ª–µ–º–µ–Ω—Ç –ø—ñ—Å–ª—è —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è:

.collect(Collectors.collectingAndThen(
Collectors.toList(),
list -> list.get(0)
));
‚ö† –ê–ª–µ —Ç—É—Ç —Ç—Ä–µ–±–∞ –±—É—Ç–∏ –≤–ø–µ–≤–Ω–µ–Ω–∏–º, —â–æ —Å–ø–∏—Å–æ–∫ –Ω–µ –ø–æ—Ä–æ–∂–Ω—ñ–π, —ñ–Ω–∞–∫—à–µ –±—É–¥–µ IndexOutOfBoundsException

‚úÖ 4. –ó—ñ–±—Ä–∞—Ç–∏ Set, –ø–æ—Ç—ñ–º –≤–∏—Ç—è–≥–Ω—É—Ç–∏ –ø–µ—Ä—à–∏–π –µ–ª–µ–º–µ–Ω—Ç:

.collect(Collectors.collectingAndThen(
Collectors.toSet(),
set -> set.iterator().next()
));
‚ú® –ü—Ä–∏–∫–ª–∞–¥–∏ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É –∫–æ–¥—ñ:
–†–æ–±–∏—Ç–∏ –∫–æ–ª–µ–∫—Ü—ñ—ó read-only –¥–ª—è —Å–µ—Ä–≤—ñ—Å—ñ–≤

–ü—ñ—Å–ª—è groupingBy –æ–¥—Ä–∞–∑—É –æ–±—á–∏—Å–ª–∏—Ç–∏ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –º–µ—Ç—Ä–∏–∫–∏ (—Ä–æ–∑–º—ñ—Ä–∏, –º–∞–∫—Å–∏–º—É–º–∏ —Ç–æ—â–æ)

–ü–æ–≤–µ—Ä–Ω—É—Ç–∏ –ø–µ—Ä—à–∏–π –∞–±–æ —î–¥–∏–Ω–∏–π –µ–ª–µ–º–µ–Ω—Ç

–ü—ñ—Å–ª—è —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó –π —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ –Ω–∞–π–∫—Ä–∞—â–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç

üéÅ –•–æ—á–µ—à?
–ú–æ–∂—É –¥–∞—Ç–∏ —Ç–æ–±—ñ —Ç—Ä–µ–Ω–∞–∂–µ—Ä:

"–©–æ –±—É–¥–µ, —è–∫—â–æ‚Ä¶ collectingAndThen ‚Üí get(0)?"
"–Ø–∫ –∑—Ä–æ–±–∏—Ç–∏ Map<K, List<V>> –Ω–µ–∑–º—ñ–Ω–Ω–æ—é?"
"–Ø–∫ –≤–∏—Ç—è–≥–Ω—É—Ç–∏ top-1 –∑—ñ —Å–ø–∏—Å–∫—É –ø—ñ—Å–ª—è —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –±–µ–∑ .get()?"
