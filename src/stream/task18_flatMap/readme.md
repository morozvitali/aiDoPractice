üëâ –ó–∞–≤–¥–∞–Ω–Ω—è –¥–ª—è —Ç–µ–±–µ:
‚úèÔ∏è –ó—Ä–æ–±–∏ —Å–≤—ñ–π –º–µ—Ç–æ–¥:
–û—Ç—Ä–∏–º–∞–π List<List<Integer>> ‚Äî —Å–ø–∏—Å–æ–∫ —á–∏—Å–µ–ª

–ó–±–µ—Ä–∏ –≤—Å—ñ —á–∏—Å–ª–∞ –≤ –æ–¥–∏–Ω —Å–ø–∏—Å–æ–∫.
–í—ñ–¥—Ñ—ñ–ª—å—Ç—Ä—É–π —Ç—ñ, —â–æ > 50.
–í—ñ–¥—Å–æ—Ä—Ç—É–π –∑–∞ —Å–ø–∞–¥–∞–Ω–Ω—è–º.
–ü–æ–≤–µ—Ä–Ω–∏ —Å–ø–∏—Å–æ–∫.

üì• –ù–∞–ø—Ä–∏–∫–ª–∞–¥:

List<List<Integer>> weeklyData = List.of(
List.of(40, 55, 60),
List.of(30, 70),
List.of(65, 10, 90)
);
üì§ –û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

[90, 70, 65, 60, 55]


?--?--?--?--?--?--?--?--THEORY--?--?--?--?--?--?--?--?


üìå –£ —á–æ–º—É —Å—É—Ç—å?
flatMap –ø–æ—Ç—Ä—ñ–±–µ–Ω —Ç–æ–¥—ñ, –∫–æ–ª–∏ —Ç–∏ –ø—Ä–∞—Ü—é—î—à –∑—ñ —Å–ø–∏—Å–∫–∞–º–∏ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Å–ø–∏—Å–∫—É.
–ó–≤–∏—á–∞–π–Ω–∏–π .map() –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î –∫–æ–∂–µ–Ω –µ–ª–µ–º–µ–Ω—Ç ‚Üí –∞–ª–µ –∑–∞–ª–∏—à–∞—î "–≤–∫–ª–∞–¥–µ–Ω—ñ—Å—Ç—å".

–ê flatMap ‚Äî "—Ä–æ–∑–ø–ª—é—â—É—î" –≤–∫–ª–∞–¥–µ–Ω—ñ –∫–æ–ª–µ–∫—Ü—ñ—ó –≤ –æ–¥–∏–Ω –∑–∞–≥–∞–ª—å–Ω–∏–π –ø–æ—Ç—ñ–∫.

üì¶ –ü—Ä–∏–∫–ª–∞–¥:

List<List<String>> data = List.of(
List.of("java", "python"),
List.of("c++", "go"),
List.of("kotlin")
);
üß™ map:

data.stream()
.map(list -> list.stream())   // Stream<Stream<String>>
üî• flatMap:

data.stream()
.flatMap(list -> list.stream())   // Stream<String>
.collect(Collectors.toList());
‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç:

[java, python, c++, go, kotlin]
üß™ –ó–∞–≤–¥–∞–Ω–Ω—è: flatMap
‚úÖ –ó–∞–¥–∞—á–∞ 1: –ó—ñ–±—Ä–∞—Ç–∏ –≤—Å—ñ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ —Å–ª–æ–≤–∞ –∑ –∫–æ–ª–µ–∫—Ü—ñ—ó —Ä–µ—á–µ–Ω—å

List<String> sentences = List.of(
"Java is powerful",
"Streams are cool",
"Java makes sense"
);
üîç –¢—Ä–µ–±–∞:

–†–æ–∑–±–∏—Ç–∏ —Ä–µ—á–µ–Ω–Ω—è –Ω–∞ —Å–ª–æ–≤–∞
–ó—ñ–±—Ä–∞—Ç–∏ —ó—Ö —É —Å–ø–∏—Å–æ–∫
–ó—Ä–æ–±–∏—Ç–∏ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º–∏ (distinct)
–ü—Ä–∏–≤–µ—Å—Ç–∏ –¥–æ –Ω–∏–∂–Ω—å–æ–≥–æ —Ä–µ–≥—ñ—Å—Ç—Ä—É

üì§ –û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
[java, is, powerful, streams, are, cool, makes, sense]

üíª –ü–æ—á–∞—Ç–∫–æ–≤–∏–π —à–∞–±–ª–æ–Ω:
public List<String> extractWords(List<String> sentences) {
return sentences.stream()
.flatMap(sentence -> Arrays.stream(sentence.split(" ")))
.map(String::toLowerCase)
.distinct()
.collect(Collectors.toList());
}


–¢–∞–∫, –í—ñ—Ç–∞–ª—ñ—é! üòÑ –¢–∏ —ñ–¥–µ–∞–ª—å–Ω–æ –ø—ñ–¥–ª–æ–≤–∏–≤ —Å—É—Ç—å:

üß† flatMap() "—Ä–æ–∑–ø–ª—é—â—É—î" –≤–∫–ª–∞–¥–µ–Ω—ñ –∫–æ–ª–µ–∫—Ü—ñ—ó —É —î–¥–∏–Ω–∏–π –ø–æ—Ç—ñ–∫,
—â–æ–± –º–∏ –º–æ–≥–ª–∏ –æ–ø–µ—Ä—É–≤–∞—Ç–∏ –Ω–∞–¥ —É—Å—ñ–º–∞ –µ–ª–µ–º–µ–Ω—Ç–∞–º–∏ —Ç–∞–∫, –Ω—ñ–±–∏ –≤–æ–Ω–∏ –±—É–ª–∏ –≤ –æ–¥–Ω–æ–º—É —Å–ø–∏—Å–∫—É.

üßä –£—è–≤–∏:
–£ —Ç–µ–±–µ —î —Ç—Ä–∏ —Ç–∞—Ä—ñ–ª–∫–∏ üçΩÔ∏è:

–æ–¥–Ω–∞ –∑ —è–±–ª—É–∫–∞–º–∏ üçé
—ñ–Ω—à–∞ –∑ –±–∞–Ω–∞–Ω–∞–º–∏ üçå
—Ç—Ä–µ—Ç—è –∑ –∞–ø–µ–ª—å—Å–∏–Ω–∞–º–∏ üçä

map() ‚Äî –¥–∞—Å—Ç—å —Ç–æ–±—ñ —Ç—Ä–∏ —Å–ø–∏—Å–∫–∏ —Ñ—Ä—É–∫—Ç—ñ–≤

Stream<List<–§—Ä—É–∫—Ç–∏>>

flatMap() ‚Äî –∑–º—ñ—à–∞—î –≤—Å—ñ —Ñ—Ä—É–∫—Ç–∏ –≤ –æ–¥–Ω—É –∫—É–ø—É üßÉ

Stream<–§—Ä—É–∫—Ç–∏>

üì¶ –ê–Ω–∞–ª–æ–≥ –≤ Java:

List<List<String>> fruits = List.of(
List.of("apple", "pear"),
List.of("banana"),
List.of("orange", "lemon")
);

Stream<Stream<String>>  // –∫–æ–∂–Ω–∞ "—Ç–∞—Ä—ñ–ª–∫–∞" –æ–∫—Ä–µ–º–æ
.flatMap(...)

Stream<String>  // –≤—Å–µ –Ω–∞ –æ–¥–Ω—ñ–π "—Ç–∞—Ä—ñ–ª—Ü—ñ"
üéØ –¢–µ–ø–µ—Ä ‚Äî —Ç–≤–æ—è —á–µ—Ä–≥–∞!
–¢–∏ –≤–∂–µ –º–∞—î—à –∑–∞–≤–¥–∞–Ω–Ω—è:

–æ–±—Ä–æ–±–∏—Ç–∏ List<List<Integer>>

—á–µ—Ä–µ–∑ flatMap(), filter(), sorted() —Ç–∞ collect()

----------------------------------------------------

üîπ –ó–∞–¥–∞—á–∞ 1: –ó–Ω–∞–π—Ç–∏ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–µ –ø–∞—Ä–Ω–µ —á–∏—Å–ª–æ, —è–∫—â–æ —Ç–∞–∫–µ —î, —ñ–Ω–∞–∫—à–µ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ -1

int[] numbers = {3, 11, 6, 7, 10};
–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: 6

int[] numbers = {3, 5, 7};
‚Üí —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–∞—î –±—É—Ç–∏: -1

–ü—ñ–¥–∫–∞–∑–∫–∞:
.filter(n -> n % 2 == 0)
.reduce(...)
.orElse(...)

üîπ –ó–∞–¥–∞—á–∞ 2: –û–±—á–∏—Å–ª–∏—Ç–∏ –¥–æ–±—É—Ç–æ–∫ —É—Å—ñ—Ö –¥–æ–¥–∞—Ç–Ω–∏—Ö —á–∏—Å–µ–ª, —è–∫—â–æ –≤–æ–Ω–∏ —î, —ñ–Ω–∞–∫—à–µ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ 1

int[] numbers = {-3, 5, 2, -1, 4};
–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: 5 * 2 * 4 = 40

int[] numbers = {-2, -5, -10};
‚Üí —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–∞—î –±—É—Ç–∏: 1

–ü—ñ–¥–∫–∞–∑–∫–∞:
.filter(n -> n > 0)
.reduce(1, (a, b) -> a * b)

üîπ –ó–∞–¥–∞—á–∞ 3: –ó–Ω–∞–π—Ç–∏ –Ω–∞–π–±—ñ–ª—å—à–µ —á–∏—Å–ª–æ, —è–∫–µ –¥—ñ–ª–∏—Ç—å—Å—è –Ω–∞ 3

int[] numbers = {3, 9, 8, 12, 7};
–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: 12

int[] numbers = {1, 2, 4, 5};
‚Üí —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–∞—î –±—É—Ç–∏: -1

–ü—ñ–¥–∫–∞–∑–∫–∞:
.filter(n -> n % 3 == 0)
.reduce(Integer::max).orElse(-1)

üîπ –ó–∞–¥–∞—á–∞ 4: –ü–æ—Ä–∞—Ö—É–≤–∞—Ç–∏ —Å—É–º—É –∫–≤–∞–¥—Ä–∞—Ç—ñ–≤ —É—Å—ñ—Ö –ø–∞—Ä–Ω–∏—Ö —á–∏—Å–µ–ª

int[] numbers = {2, 3, 4};
–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: 2^2 + 4^2 = 4 + 16 = 20

int[] numbers = {1, 3, 5};
‚Üí —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–∞—î –±—É—Ç–∏: 0

–ü—ñ–¥–∫–∞–∑–∫–∞:
.filter(n -> n % 2 == 0)
.map(n -> n * n)
.reduce(0, Integer::sum)

üîπ –ó–∞–¥–∞—á–∞ 5: –ó–Ω–∞–π—Ç–∏ —Å–µ—Ä–µ–¥–Ω—î –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–Ω–µ –Ω–µ–ø–∞—Ä–Ω–∏—Ö —á–∏—Å–µ–ª
(–æ–∫—Ä—É–≥–ª–∏—Ç–∏ –≤–Ω–∏–∑ –¥–æ int, –∞–±–æ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ -1 —è–∫—â–æ –Ω–µ–º–∞—î –Ω–µ–ø–∞—Ä–Ω–∏—Ö)

int[] numbers = {3, 5, 7}; // —Å–µ—Ä–µ–¥–Ω—î: 5
java
Copy
Edit
int[] numbers = {2, 4, 6}; // —Ä–µ–∑—É–ª—å—Ç–∞—Ç: -1
–ü—ñ–¥–∫–∞–∑–∫–∞:
.filter(n -> n % 2 != 0)
–∑—ñ–±—Ä–∞—Ç–∏ —É —Å–ø–∏—Å–æ–∫ ‚Üí –ø–æ—Ä–∞—Ö—É–≤–∞—Ç–∏ .sum() —ñ .count()

‚≠ê –ó–∞–¥–∞—á–∞ 6: (–∑ –∑—ñ—Ä–æ—á–∫–æ—é) –ó–Ω–∞–π—Ç–∏ –Ω–∞–π–±—ñ–ª—å—à–∏–π —Å–ø—ñ–ª—å–Ω–∏–π –¥—ñ–ª—å–Ω–∏–∫ (–ù–°–î) –≤—Å—ñ—Ö —á–∏—Å–µ–ª —É –º–∞—Å–∏–≤—ñ

int[] numbers = {12, 24, 36}; // –ù–°–î = 12

int[] numbers = {7, 11}; // –ù–°–î = 1

int[] numbers = {}; // —Ä–µ–∑—É–ª—å—Ç–∞—Ç: -1
–ü—ñ–¥–∫–∞–∑–∫–∞:
–≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ .reduce((a, b) -> gcd(a, b)).orElse(-1)
–º–µ—Ç–æ–¥ gcd(int a, int b) —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –æ–∫—Ä–µ–º–æ


---------------instanceof-objects-filtration---------------

‚úÖ –ó–∞–¥–∞—á–∞ 1: –§—ñ–ª—å—Ç—Ä —á–∏—Å–µ–ª
üìã –£–º–æ–≤–∞:
–Ñ —Å–ø–∏—Å–æ–∫ —ñ–∑ —á–∏—Å–µ–ª, —Ä—è–¥–∫—ñ–≤ —ñ –±—É–ª–µ–≤–∏—Ö –∑–Ω–∞—á–µ–Ω—å. –ü–æ–≤–µ—Ä–Ω–∏ —Å–ø–∏—Å–æ–∫ —Ç—ñ–ª—å–∫–∏ –∑ —Ü—ñ–ª–∏–º–∏ —á–∏—Å–ª–∞–º–∏ (Integer).

üß† –ü—ñ–¥–∫–∞–∑–∫–∞:
x instanceof Integer

üìå –ü—Ä–∏–∫–ª–∞–¥:

List.of(10, "hello", true, 42, false, "42") ‚Üí [10, 42]
üß™ –ü–æ—á–∞—Ç–∫–æ–≤–∏–π –∫–æ–¥:

public static List<Object> filterIntegers(List<Object> input) {
return input.stream()
.filter(x -> x instanceof Integer)
.collect(Collectors.toList());
}
‚úÖ –ó–∞–¥–∞—á–∞ 2: –ó–∞–ª–∏—à–∏—Ç–∏ —Ä—è–¥–∫–∏
üìã –£–º–æ–≤–∞:
–ó–∞–ª–∏—à —É —Å–ø–∏—Å–∫—É –ª–∏—à–µ —Ç—ñ –µ–ª–µ–º–µ–Ω—Ç–∏, —è–∫—ñ —î —Ä—è–¥–∫–∞–º–∏ (String).

üìå –ü—Ä–∏–∫–ª–∞–¥:

List.of("hello", 1, 2.5, true, "world") ‚Üí ["hello", "world"]
üß† –ü—ñ–¥–∫–∞–∑–∫–∞:
x instanceof String

‚úÖ –ó–∞–¥–∞—á–∞ 3: –†–æ–∑—É–º–Ω–∏–π —Ñ—ñ–ª—å—Ç—Ä
üìã –£–º–æ–≤–∞:
–ó–∞–ª–∏—à –ª–∏—à–µ —Ç—ñ –µ–ª–µ–º–µ–Ω—Ç–∏, —è–∫—ñ —î —á–∏—Å–ª–∞–º–∏ (Integer) —ñ –±—ñ–ª—å—à—ñ –∑–∞ 10.

üìå –ü—Ä–∏–∫–ª–∞–¥:

List.of("a", 3, 15, 11, 9, "99") ‚Üí [15, 11]
üß† –ü—ñ–¥–∫–∞–∑–∫–∞:

x instanceof Integer && (Integer)x > 10
‚úÖ –ó–∞–¥–∞—á–∞ 4: –§—ñ–ª—å—Ç—Ä —ñ—Å—Ç–∏–Ω–∏
üìã –£–º–æ–≤–∞:
–ü–æ–≤–µ—Ä–Ω–∏ –≤—Å—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ —Ç–∏–ø—É Boolean, —è–∫—ñ —Ä—ñ–≤–Ω—ñ true.

üìå –ü—Ä–∏–∫–ª–∞–¥:

List.of("yes", true, false, true, 1) ‚Üí [true, true]
üß† –ü—ñ–¥–∫–∞–∑–∫–∞:

x instanceof Boolean && (Boolean)x == true
‚úÖ –ó–∞–¥–∞—á–∞ 5: –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä —Ä—è–¥–∫—ñ–≤ —É –≤–µ–ª–∏–∫—ñ –±—É–∫–≤–∏
üìã –£–º–æ–≤–∞:
–ó–∞–ª–∏—à–∏ —Ç—ñ–ª—å–∫–∏ String, –∞–ª–µ –ø–æ–≤–µ—Ä—Ç–∞–π —ó—Ö —É –≤–µ—Ä—Ö–Ω—å–æ–º—É —Ä–µ–≥—ñ—Å—Ç—Ä—ñ (toUpperCase()).

üìå –ü—Ä–∏–∫–ª–∞–¥:

List.of("hi", 123, "bye", false) ‚Üí ["HI", "BYE"]
üß† –ü—ñ–¥–∫–∞–∑–∫–∞:

x instanceof String ‚Üí ((String)x).toUpperCase()