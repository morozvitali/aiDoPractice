üëâ –ó–∞–≤–¥–∞–Ω–Ω—è –¥–ª—è —Ç–µ–±–µ:
‚úèÔ∏è –ó—Ä–æ–±–∏ —Å–≤—ñ–π –º–µ—Ç–æ–¥:
–û—Ç—Ä–∏–º–∞–π List<List<Integer>> ‚Äî —Å–ø–∏—Å–æ–∫ —á–∏—Å–µ–ª

–ó–±–µ—Ä–∏ –≤—Å—ñ —á–∏—Å–ª–∞ –≤ –æ–¥–∏–Ω —Å–ø–∏—Å–æ–∫.

–í—ñ–¥—Ñ—ñ–ª—å—Ç—Ä—É–π —Ç—ñ, —â–æ > 50.

–í—ñ–¥—Å–æ—Ä—Ç—É–π –∑–∞ —Å–ø–∞–¥–∞–Ω–Ω—è–º.

–ü–æ–≤–µ—Ä–Ω–∏ —Å–ø–∏—Å–æ–∫.

üì• –ù–∞–ø—Ä–∏–∫–ª–∞–¥:

List<List<Integer>> weeklyData = List.of(
List.of(40, 55, 60),
List.of(30, 70),
List.of(65, 10, 90)
);
üì§ –û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

[90, 70, 65, 60, 55]


?--?--?--?--?--?--?--?--THEORY--?--?--?--?--?--?--?--?


üìå –£ —á–æ–º—É —Å—É—Ç—å?
flatMap –ø–æ—Ç—Ä—ñ–±–µ–Ω —Ç–æ–¥—ñ, –∫–æ–ª–∏ —Ç–∏ –ø—Ä–∞—Ü—é—î—à –∑—ñ —Å–ø–∏—Å–∫–∞–º–∏ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Å–ø–∏—Å–∫—É.
–ó–≤–∏—á–∞–π–Ω–∏–π .map() –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î –∫–æ–∂–µ–Ω –µ–ª–µ–º–µ–Ω—Ç ‚Üí –∞–ª–µ –∑–∞–ª–∏—à–∞—î "–≤–∫–ª–∞–¥–µ–Ω—ñ—Å—Ç—å".

–ê flatMap ‚Äî "—Ä–æ–∑–ø–ª—é—â—É—î" –≤–∫–ª–∞–¥–µ–Ω—ñ –∫–æ–ª–µ–∫—Ü—ñ—ó –≤ –æ–¥–∏–Ω –∑–∞–≥–∞–ª—å–Ω–∏–π –ø–æ—Ç—ñ–∫.

üì¶ –ü—Ä–∏–∫–ª–∞–¥:

List<List<String>> data = List.of(
List.of("java", "python"),
List.of("c++", "go"),
List.of("kotlin")
);
üß™ map:

data.stream()
.map(list -> list.stream())   // Stream<Stream<String>>
üî• flatMap:

data.stream()
.flatMap(list -> list.stream())   // Stream<String>
.collect(Collectors.toList());
‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç:

[java, python, c++, go, kotlin]
üß™ –ó–∞–≤–¥–∞–Ω–Ω—è: flatMap
‚úÖ –ó–∞–¥–∞—á–∞ 1: –ó—ñ–±—Ä–∞—Ç–∏ –≤—Å—ñ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ —Å–ª–æ–≤–∞ –∑ –∫–æ–ª–µ–∫—Ü—ñ—ó —Ä–µ—á–µ–Ω—å

List<String> sentences = List.of(
"Java is powerful",
"Streams are cool",
"Java makes sense"
);
üîç –¢—Ä–µ–±–∞:

–†–æ–∑–±–∏—Ç–∏ —Ä–µ—á–µ–Ω–Ω—è –Ω–∞ —Å–ª–æ–≤–∞
–ó—ñ–±—Ä–∞—Ç–∏ —ó—Ö —É —Å–ø–∏—Å–æ–∫
–ó—Ä–æ–±–∏—Ç–∏ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º–∏ (distinct)
–ü—Ä–∏–≤–µ—Å—Ç–∏ –¥–æ –Ω–∏–∂–Ω—å–æ–≥–æ —Ä–µ–≥—ñ—Å—Ç—Ä—É

üì§ –û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
[java, is, powerful, streams, are, cool, makes, sense]

üíª –ü–æ—á–∞—Ç–∫–æ–≤–∏–π —à–∞–±–ª–æ–Ω:
public List<String> extractWords(List<String> sentences) {
return sentences.stream()
.flatMap(sentence -> Arrays.stream(sentence.split(" ")))
.map(String::toLowerCase)
.distinct()
.collect(Collectors.toList());
}


–¢–∞–∫, –í—ñ—Ç–∞–ª—ñ—é! üòÑ –¢–∏ —ñ–¥–µ–∞–ª—å–Ω–æ –ø—ñ–¥–ª–æ–≤–∏–≤ —Å—É—Ç—å:

üß† flatMap() "—Ä–æ–∑–ø–ª—é—â—É—î" –≤–∫–ª–∞–¥–µ–Ω—ñ –∫–æ–ª–µ–∫—Ü—ñ—ó —É —î–¥–∏–Ω–∏–π –ø–æ—Ç—ñ–∫,
—â–æ–± –º–∏ –º–æ–≥–ª–∏ –æ–ø–µ—Ä—É–≤–∞—Ç–∏ –Ω–∞–¥ —É—Å—ñ–º–∞ –µ–ª–µ–º–µ–Ω—Ç–∞–º–∏ —Ç–∞–∫, –Ω—ñ–±–∏ –≤–æ–Ω–∏ –±—É–ª–∏ –≤ –æ–¥–Ω–æ–º—É —Å–ø–∏—Å–∫—É.

üßä –£—è–≤–∏:
–£ —Ç–µ–±–µ —î —Ç—Ä–∏ —Ç–∞—Ä—ñ–ª–∫–∏ üçΩÔ∏è:

–æ–¥–Ω–∞ –∑ —è–±–ª—É–∫–∞–º–∏ üçé
—ñ–Ω—à–∞ –∑ –±–∞–Ω–∞–Ω–∞–º–∏ üçå
—Ç—Ä–µ—Ç—è –∑ –∞–ø–µ–ª—å—Å–∏–Ω–∞–º–∏ üçä

map() ‚Äî –¥–∞—Å—Ç—å —Ç–æ–±—ñ —Ç—Ä–∏ —Å–ø–∏—Å–∫–∏ —Ñ—Ä—É–∫—Ç—ñ–≤

Stream<List<–§—Ä—É–∫—Ç–∏>>

flatMap() ‚Äî –∑–º—ñ—à–∞—î –≤—Å—ñ —Ñ—Ä—É–∫—Ç–∏ –≤ –æ–¥–Ω—É –∫—É–ø—É üßÉ

Stream<–§—Ä—É–∫—Ç–∏>

üì¶ –ê–Ω–∞–ª–æ–≥ –≤ Java:

List<List<String>> fruits = List.of(
List.of("apple", "pear"),
List.of("banana"),
List.of("orange", "lemon")
);

Stream<Stream<String>>  // –∫–æ–∂–Ω–∞ "—Ç–∞—Ä—ñ–ª–∫–∞" –æ–∫—Ä–µ–º–æ
.flatMap(...)

Stream<String>  // –≤—Å–µ –Ω–∞ –æ–¥–Ω—ñ–π "—Ç–∞—Ä—ñ–ª—Ü—ñ"
üéØ –¢–µ–ø–µ—Ä ‚Äî —Ç–≤–æ—è —á–µ—Ä–≥–∞!
–¢–∏ –≤–∂–µ –º–∞—î—à –∑–∞–≤–¥–∞–Ω–Ω—è:

–æ–±—Ä–æ–±–∏—Ç–∏ List<List<Integer>>

—á–µ—Ä–µ–∑ flatMap(), filter(), sorted() —Ç–∞ collect()